(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{212:function(e,t,n){e.exports=n(364)},364:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(38),u=n.n(c),l=n(24),o=n(51),i=n(176),s=n(177),p=n(14),m=n.n(p),f=n(17),d=n(34),E=n.n(d),g=function(){return E.a.get("/api/users").then(function(e){return e.data})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITUSERS":return t.data;default:return e}},v=null,h=function(){return{headers:{Authorization:v}}},O={getAll:function(){return E.a.get("/api/recipes").then(function(e){return e.data})},create:function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/api/recipes",t,h());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){v="bearer ".concat(e)},remove:function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete("".concat("/api/recipes","/").concat(t.id),h);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),destroyToken:function(){v=null}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return e.concat(t.data);case"INITIALIZE":return t.data;case"REMOVE":return e.filter(function(e){return e.id!==t.data.id});default:return e}},j={login:function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.data;case"LOGOUT":return null;case"INITLOGIN":return t.data;default:return e}},k=Object(o.combineReducers)({users:b,user:w,recipes:y}),x=Object(o.createStore)(k,Object(s.composeWithDevTools)(Object(o.applyMiddleware)(i.a))),I=n(23),S=n(45),C=n(22),N={register:function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("http://localhost:3003/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},R=(n(54),n(373)),L=n(377),T=function(){var e=Object(a.useState)(""),t=Object(C.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(""),l=Object(C.a)(u,2),o=l[0],i=l[1],s=function(){var e=Object(f.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.register({username:n,password:o});case 4:c(""),i(""),console.log("register succes"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("invalid username or password");case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h2",null,"Please Register"),r.a.createElement(R.a,{onSubmit:s},r.a.createElement(R.a.Field,null,r.a.createElement("input",{placeholder:"username",value:n,onChange:function(e){var t=e.target;return c(t.value)}})),r.a.createElement(R.a.Field,null,r.a.createElement("input",{placeholder:"username",type:"password",value:o,onChange:function(e){var t=e.target;return i(t.value)}})),r.a.createElement(L.a,null,"Register")))},A=Object(l.b)(null,{loginUser:function(e,t){return function(){var n=Object(f.a)(m.a.mark(function n(a){var r;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.login(e,t);case 2:r=n.sent,window.localStorage.setItem("loggedUser",JSON.stringify(r)),console.log("tokeni",r.token),console.log("username",e),O.setToken(r.token),a({data:r,type:"LOGIN"});case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}})(function(e){var t=Object(a.useState)(""),n=Object(C.a)(t,2),c=n[0],u=n[1],l=Object(a.useState)(""),o=Object(C.a)(l,2),i=o[0],s=o[1],p=function(){var t=Object(f.a)(m.a.mark(function t(n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault();try{e.loginUser({username:c,password:i}),u(""),s(""),console.log("loggin succes")}catch(a){console.log("Login failed")}case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h2",null,"Please Login"),r.a.createElement(R.a,{onSubmit:p},r.a.createElement(R.a.Field,null,r.a.createElement("input",{placeholder:"username",value:c,onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement(R.a.Field,null,r.a.createElement("input",{placeholder:"password",type:"password",value:i,onChange:function(e){var t=e.target;return s(t.value)}})),r.a.createElement(L.a,null,"Login")))}),F=n(198),U=Object(l.b)(null,{createRecipe:function(e,t,n,a){return console.log("reduxx",e),function(){var r=Object(f.a)(m.a.mark(function r(c){var u,l;return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u={title:e,category:t,ingredients:n,instruction:a},console.log("whole recipe",u),r.next=4,O.create(u);case 4:l=r.sent,c({data:l,type:"ADD"});case 6:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()}})(function(e){var t=Object(a.useState)(""),n=Object(C.a)(t,2),c=n[0],u=n[1],l=Object(a.useState)(""),o=Object(C.a)(l,2),i=o[0],s=o[1],p=Object(a.useState)(""),d=Object(C.a)(p,2),E=d[0],g=d[1],b=Object(a.useState)(""),v=Object(C.a)(b,2),h=v[0],O=v[1],y=Object(a.useState)([]),j=Object(C.a)(y,2),w=j[0],k=j[1],x=function(){var t=Object(f.a)(m.a.mark(function t(n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.createRecipe(c,h,w,E),u(""),s(""),g("");case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"ingredientInput"},r.a.createElement(R.a,{onSubmit:x},r.a.createElement(R.a.Field,null,r.a.createElement("h1",null,"Recipe name"),r.a.createElement("input",{type:"string",value:c,onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement(R.a.Field,null,r.a.createElement("h2",null,"What category is your recipe: ",h),r.a.createElement(L.a,{type:"button",className:"Meat"===h?"colored":"5f6769",onClick:function(){return O("Meat")}},"Meat"),r.a.createElement(L.a,{type:"button",className:"Vegetarian"===h?"colored":"5f6769",onClick:function(){return O("Vegetarian")}},"Vegetarian"),r.a.createElement(L.a,{type:"button",className:"Soup"===h?"colored":"5f6769",onClick:function(){return O("Soup")}},"Soup"),r.a.createElement(L.a,{type:"button",className:"Fish"===h?"colored":"5f6769",onClick:function(){return O("Fish")}},"Fish")),r.a.createElement(R.a.Field,null,r.a.createElement("input",{type:"string",value:i,onChange:function(e){var t=e.target;return s(t.value)}}),r.a.createElement("div",null),r.a.createElement(L.a,{type:"button",onClick:function(){k(function(e){return[].concat(Object(F.a)(e),[i])}),s("")}},"Add a Ingerient"),r.a.createElement("div",null),r.a.createElement("ul",null,w.map(function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement("div",{className:"guideInput"},r.a.createElement("h2",null,"Add Recipe guide"),r.a.createElement("textarea",{wid:"true",value:E,onChange:function(e){var t=e.target;return g(t.value)}}),r.a.createElement(L.a,{type:"submit"},"Create"))))}),M=n(94),D=n(43),G=n(375);function z(){var e=Object(M.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid black;\n  color: black;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n"]);return z=function(){return e},e}var V=Object(l.b)(function(e){return{recipes:e.recipes}})(function(e){var t=Object(a.useState)(""),n=Object(C.a)(t,2);n[0],n[1];return r.a.createElement(G.a.Group,null,e.recipes.map(function(e){return r.a.createElement(I.b,{to:"/recipes/".concat(e.id)},r.a.createElement(G.a,null,r.a.createElement(G.a.Content,{key:e.id},r.a.createElement(G.a.Header,null,e.title),r.a.createElement(G.a.Meta,null,e.category))))}))}),H=(D.a.button(z()),n(379)),J=n(378),P=n(371),W={removeRecipe:function(e){return function(){var t=Object(f.a)(m.a.mark(function t(n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("object",e),t.next=3,O.remove(e);case 3:n({data:e,type:"REMOVE"});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},Z=Object(l.b)(function(e){return{recipes:e.recipes}},W)(function(e){if(console.log("object",e.users),void 0===e.recipe)return null;return console.log("Recipe yks: ",e.recipe.user.username),console.log("ainesosaaaaaa",e.recipe.ingredient),r.a.createElement(H.a,null,r.a.createElement(J.a,{columns:2,relaxed:"very"},r.a.createElement(J.a.Column,null,r.a.createElement("p",null,"Made by ",e.recipe.user.username),r.a.createElement("h1",null,e.recipe.title),r.a.createElement("em",null,r.a.createElement("p",null,e.recipe.category)),e.recipe.ingredient.map(function(e){return r.a.createElement("li",{key:e},e)})),r.a.createElement(J.a.Column,null,r.a.createElement("p",null,e.recipe.instruction))),r.a.createElement(P.a,{vertical:!0},"Instruction"))});function B(){var e=Object(M.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid black;\n  color: black;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n"]);return B=function(){return e},e}var q=Object(l.b)(function(e){return{recipes:e.recipes,user:e.user,users:e.users}})(function(e){var t=Object(a.useState)(""),n=Object(C.a)(t,2);n[0],n[1];console.log("userasrasrasafsafaaf",e.user.username),console.log("object",e.users);var c=e.users.find(function(t){return t.username===e.user.username});return r.a.createElement(G.a.Group,null,c&&c.recipes.map(function(e){return r.a.createElement(I.b,{to:"/recipes/".concat(e.id)},r.a.createElement(G.a,null,r.a.createElement(G.a.Content,null,r.a.createElement(G.a.Header,null,e.title),r.a.createElement(G.a.Meta,null,e.category))))}))}),K=(D.a.button(B()),n(372)),Q=n(376),X={initializeLogin:function(){return function(){var e=Object(f.a)(m.a.mark(function e(t){var n,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.localStorage.getItem("loggedUser"))){e.next=7;break}return a=JSON.parse(n),O.getAll("loggedUser"),e.next=6,O.setToken(a.token);case 6:t({data:a,type:"INITLOGIN"});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},logout:function(){return window.localStorage.removeItem("loggedUser"),O.destroyToken(),{type:"LOGOUT"}},initializeRecipes:function(){return function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getAll();case 2:n=e.sent,t({data:n,type:"INITIALIZE"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},initializeUsers:function(){return function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:n=e.sent,t({data:n,type:"INITUSERS"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},Y=Object(l.b)(function(e){return{users:e.users,user:e.user,recipes:e.recipes}},X)(function(e){Object(a.useEffect)(function(){e.initializeUsers()},[]),Object(a.useEffect)(function(){e.initializeRecipes()},[]),Object(a.useEffect)(function(){e.initializeLogin()},[]);var t={padding:5};if(null===e.user)return r.a.createElement(K.a,null,r.a.createElement(I.a,null,r.a.createElement(Q.a,null,r.a.createElement(Q.a.Item,null,r.a.createElement(I.b,{style:t,to:"/"},"Home")),r.a.createElement(Q.a.Item,null,r.a.createElement(I.b,{to:"/recipes"}," All recipes ")),r.a.createElement(Q.a.Item,null,r.a.createElement(I.b,{style:t,to:"/login"},"Login")),r.a.createElement(Q.a.Item,null,r.a.createElement(I.b,{style:t,to:"/register"},"Register"))),r.a.createElement("div",null,r.a.createElement(S.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(A,null)}}),r.a.createElement(S.a,{exact:!0,path:"/register",render:function(){return r.a.createElement(T,null)}}),r.a.createElement(S.a,{exact:!0,path:"/recipes",render:function(){return r.a.createElement(V,null)}}))));console.log("user",e.user.username);return console.log("users",e.users),r.a.createElement(K.a,null,r.a.createElement(I.a,null,r.a.createElement(Q.a,null,r.a.createElement(Q.a.Item,null,r.a.createElement(I.b,{style:t,to:"/"},"Home")),r.a.createElement(Q.a.Item,null,r.a.createElement(I.b,{to:"/recipeForm"}," Add recipe ")),r.a.createElement(Q.a.Item,null,r.a.createElement(I.b,{to:"/recipes"}," All recipes ")),r.a.createElement(Q.a.Item,null,r.a.createElement(I.b,{to:"/myRecipes"},"my recipes")),r.a.createElement(Q.a.Item,null,r.a.createElement(L.a,{onClick:e.logout},"logout"))),r.a.createElement("div",null,r.a.createElement(S.a,{exact:!0,path:"/recipeForm",render:function(){return r.a.createElement(U,null)}})),r.a.createElement("div",null,r.a.createElement(S.a,{exact:!0,path:"/recipes",render:function(){return r.a.createElement(V,null)}})),r.a.createElement(S.a,{exact:!0,path:"/recipes/:id",render:function(t){var n,a=t.match;return r.a.createElement(Z,{recipe:(n=a.params.id,e.recipes.find(function(e){return e.id===n}))})}}),r.a.createElement(S.a,{exact:!0,path:"/myRecipes",render:function(){return r.a.createElement(q,null)}})))});u.a.render(r.a.createElement(l.a,{store:x},r.a.createElement(Y,null)),document.getElementById("root"))},54:function(e,t,n){}},[[212,1,2]]]);
//# sourceMappingURL=main.3ff7f9be.chunk.js.map